<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Document</title>
</head>
<script>
    // var test =
    //     `2018	본관	382355	254
    // 2018	디지털도서관	412059	324
    // 2018	어린이청소년도서관	96176	325
    // 2018	세종도서관	810122	324
    // 2019	본관	561249	327
    // 2019	디지털도서관	284646	287
    // 2019	어린이청소년도서관	109094	325
    // 2019	세종도서관	823908	123
    // 2020	본관	110021	146
    // 2020	디지털도서관	12419	122
    // 2020	어린이청소년도서관	13191	75
    // 2020	세종도서관	156489	123
    // 2021	본관	17900	63
    // 2021	디지털도서관	11172	63
    // 2021	어린이청소년도서관	1981	63
    // 2021	세종도서관	28084	69`;

    // test = test.split("\n");

    // console.log("test", test);

    // var temp = [];
    // for (var i = 0; i < test.length; i++) {
    //     var data = test[i].split("\t");
    //     console.log("data", data);

    //     var obj = {
    //         "연도": parseInt(data[0].trim()),
    //         "도서관구분": data[1].trim(),
    //         "방문자수": parseInt(data[2].trim()),
    //         "개관일수": parseInt(data[3].trim())

    //     };
    //     console.log("obj", obj);
    //     temp.push(obj);
    // }
    // console.log(temp)

    var test = `2021-09-01	기타	4
        2021-09-01	국내서	641
        2021-09-01	서양서	7
        2021-09-02	국내서	463
        2021-09-03	중국서	80
        2021-09-03	국내서	547
        2021-09-06	일본서	1
        2021-09-06	국내서	1227
        2021-09-07	국내서	774
        2021-09-08	국내서	584
        2021-09-09	일본서	2
        2021-09-09	국내서	572
        2021-09-10	국내서	731
        2021-09-13	국내서	1036
        2021-09-14	국내서	671
        2021-09-15	국내서	648
        2021-09-16	중국서	20
        2021-09-16	국내서	592
        2021-09-17	중국서	60
        2021-09-17	국내서	513
        2021-09-23	중국서	81
        2021-09-23	국내서	989
        2021-09-24	중국서	203
        2021-09-24	국내서	754
        2021-09-24	서양서	2
        2021-09-27	국내서	1192
        2021-09-28	국내서	850`;

    test = test.split("\n");

    console.log("test", test);

    var temp = [];
    for (var i = 0; i < test.length; i++) {
        var data = test[i].split("\t");
        console.log("data", data);

        var obj = {
            "날짜": data[0].trim(),
            "자료구분": data[1].trim(),
            "자료수": parseInt(data[2].trim()),
        };
        console.log("obj", obj);
        temp.push(obj);
    }
    console.log(JSON.stringify(temp))

</script>

<body>

</body>

</html>