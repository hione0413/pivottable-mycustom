<!DOCTYPE html>
<html>
<head>
<meta charset="UTF-8">
<title>Insert title here</title>
<!-- Styles -->
<style>
.chartdiv {
	width: 100%;
	height: 500px;
}
</style>

<!-- Resources -->
<script src="https://cdn.amcharts.com/lib/4/core.js"></script>
<script src="https://cdn.amcharts.com/lib/4/charts.js"></script>
<script src="https://cdn.amcharts.com/lib/4/themes/animated.js"></script>

<!-- Chart code -->
<script>
  am4core.ready(function() {

    //Themes begin
    am4core.useTheme(am4themes_animated);
    //Themes end

    //Create chart instance
    var chart = am4core.create("stakcedchartdiv", am4charts.XYChart);

    //Add data
    chart.data = [ {
      "year" : "2003",
      "europe" : 2.5,
      "namerica" : 2.5,
      "asia" : 2.1,
      "lamerica" : 1.2,
      "meast" : 0.2,
      "africa" : 0.1
    }, {
      "year" : "2004",
      "europe" : 2.6,
      "namerica" : 2.7,
      "asia" : 2.2,
      "lamerica" : 1.3,
      "meast" : 0.3,
      "africa" : 0.1
    }, {
      "year" : "2005",
      "europe" : 2.8,
      "namerica" : 2.9,
      "asia" : 2.4,
      "lamerica" : 1.4,
      "meast" : 0.3,
      "africa" : 0.1
    }, {
      "year" : "2006",
      "europe" : 2.1,
      "namerica" : 2.0,
      "asia" : 2.8,
      "lamerica" : 1.7,
      "meast" : 0.9,
      "africa" : 0.4
    }
    /* , {
   		"연도": 2020,
  		"월": 1,
  		"시간대": "9시이전",
  		"도서관구분": "본관",
  		"이용횟수": 1,
  		"입력YN": "N"} */
    ];

    //Create axes
    var categoryAxis = chart.xAxes.push(new am4charts.CategoryAxis());
/*     categoryAxis.dataFields.category = "월"; */
    categoryAxis.dataFields.category = "year";
/*     categoryAxis.title.text = "도서관 구분"; */
    categoryAxis.title.text = "Local country offices";
    categoryAxis.renderer.grid.template.location = 0;
    categoryAxis.renderer.minGridDistance = 20;
    categoryAxis.renderer.cellStartLocation = 0.1;
    categoryAxis.renderer.cellEndLocation = 0.9;

    var valueAxis = chart.yAxes.push(new am4charts.ValueAxis());
    valueAxis.min = 0;
/*     valueAxis.title.text = "이용횟수"; */
    valueAxis.title.text = "Expenditure (M)";

    //Create series
    function createSeries(field, name, stacked) {
      var series = chart.series.push(new am4charts.ColumnSeries());
      series.dataFields.valueY = field;
/*       series.dataFields.categoryX = "월"; */
      series.dataFields.categoryX = "year";
      series.name = name;
      series.columns.template.tooltipText = "{name}: [bold]{valueY}[/]";
      series.stacked = stacked;
      series.columns.template.width = am4core.percent(95);
    }

    /* createSeries("이용횟수", "본관", false) */
    /* createSeries("이용횟수", "디지털도서관", false) */
    /* 월이 바뀌면 true */
    /* createSeries("이용횟수", "국립어린이청소년도서관", true) */
    createSeries("europe", "Europe", false);
    createSeries("namerica", "North America", true);
    createSeries("asia", "Asia", false);
    createSeries("lamerica", "Latin America", true);
    createSeries("meast", "Middle East", true);
    createSeries("africa", "Africa", true);

    //Add legend
    chart.legend = new am4charts.Legend();

  }); // end am4core.ready()
</script>
</head>
<body>
	<!-- HTML -->
	<div class="chartdiv" id="stakcedchartdiv"></div>
</body>
</html>